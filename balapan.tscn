[gd_scene load_steps=13 format=3 uid="uid://cv0ixihpttki4"]

[ext_resource type="Script" uid="uid://did2y4kfqatdw" path="res://balapan.gd" id="1_lhx8w"]
[ext_resource type="Texture2D" uid="uid://dr3as0qvq4st2" path="res://map_1.png" id="1_rtnk7"]
[ext_resource type="PackedScene" uid="uid://cwiwy2e1fd7w3" path="res://pembalap.tscn" id="2_1wd50"]
[ext_resource type="Texture2D" uid="uid://cyoh72qwfmltt" path="res://Frezer_Hand.png" id="3_77uq0"]
[ext_resource type="PackedScene" uid="uid://b5sgerdupw5vt" path="res://pembalap_hijau.tscn" id="3_rvj8b"]
[ext_resource type="PackedScene" uid="uid://brfun6vq4gslf" path="res://pembalap_merah.tscn" id="4_pec3l"]
[ext_resource type="PackedScene" uid="uid://be7oq3sp25knf" path="res://pembalap_ungu.tscn" id="5_2kmmn"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_832nx"]
vertices = PackedVector2Array(182.648, -71.4922, 174.547, 39.9766, 168.352, 21, 166.297, 13.3203, 155.07, -35.5703, 153.727, -68.9531, 152.711, -95.6094, 151.859, -6.75781, 152.922, -29.1406, 160.68, 7.70313, 166.297, 28.6797, 153, 5.64844, 143.539, 5.71094, 145.32, 7.70313, -76.8203, 29.1328, -81.5391, 54.3281, -91.6484, 35, -93.7031, 27.3203, -93.7031, 42.6797, 109.953, -85.9688, 24.6406, -118.891, 43.3906, -86.9531, 35.2813, -93.0391, 157.969, 43.9609, 160.68, 34.2969, 153, 36.3516, 91.5703, 41.8203, 145.32, 34.2969, 139.703, 28.6797, -49.2969, -92, -175.297, -96.6797, -114.922, -88.9219, -141.727, -79.5938, -170.008, -47.9219, -192.273, -60.1719, -199.844, -2.46875, -176.039, -26.2266, -174.898, 14.7813, -190.148, 39.7969, -158.641, 34, -164.43, 56.3984, -120.297, 42.6797, -125.172, 61.8828, -126.703, 34, -122.352, 35, 94.8203, 97.2266, 82.1016, 99.9609, 61.4219, 99.3125, 62.1016, 83.8516, 89.8594, 83.7422, 123.813, 85, 108.758, 93.75, -22.9219, -10.8984, -25.7031, -44.3203, -25.2891, -45.8281, -12.7031, -42.2266, -1.34375, -35.4609, 1.21875, -21.3906, -14, 24.7734, 89.3438, 8.67188, 137.648, 21, 85.0391, 17.2813, -99.3203, 48.2969, -107, 50.3516, -114.68, 48.2969, 139.703, 13.3203, 71.4766, 37.2188, 72.5, 28.0234, 80.9531, 58.7969, 59.0703, 77.7891, 59.9609, 51.2031, 61.0938, 45.5313, 126.844, 97.3672, 146.813, 85, -70.8125, -1.92969, -99.3203, 21.7031, -111, -13.1328, -120.297, 27.3203, -122.117, 9.53906, -114.68, 21.7031, -9.10938, -44.2734, 166.742, 89.8125, 166.141, 109.008, 148.469, 122.844, 130.313, 108.844, 124.031, 129.18, 118.906, 120.227, 76.8438, 135.922, 101, 124.141, -107, 19.6484, -121.352, 3.42969, -111, -20.0938, -108.203, -27.0781, -94.5625, -45.5391, -81.5938, -46.9766, -52.7266, -45.9531, -52.2969, -44.3203, -65.0703, -30.6484, 10.2266, 41.1328, 13.6875, 54.9766, 11.5391, 56.6016, -14, 61.3125, -39.3203, -28.6719, -46.6797, -38.7031, -39, -36.6484, -31.3203, -38.7031, 7.42969, -19.3125, 14.1328, 11.6484, 16.6094, 31.5391, -21.3594, 100.141, -18.1563, 76.9297, 7.71875, 90.9688, -4.32813, 115.633, 18.6016, 111.367, 25.8125, 130.25, 36.3672, 120.938, 83.6016, 122.023, 89.7109, 121.141, 100.07, 123.211, 101.609, 123.523, 101.703, 123.539, 108.398, 117.227, 101.742, 123.391, 107.797, 117.328)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6), PackedInt32Array(7, 8, 4, 3, 9), PackedInt32Array(10, 2, 1), PackedInt32Array(7, 9, 11), PackedInt32Array(12, 7, 11, 13), PackedInt32Array(14, 15, 16, 17), PackedInt32Array(18, 16, 15), PackedInt32Array(6, 5, 19), PackedInt32Array(20, 6, 19, 21, 22), PackedInt32Array(10, 1, 23, 24), PackedInt32Array(25, 24, 23), PackedInt32Array(25, 23, 26, 27), PackedInt32Array(28, 27, 26), PackedInt32Array(20, 22, 29, 30), PackedInt32Array(30, 29, 31), PackedInt32Array(30, 31, 32), PackedInt32Array(30, 32, 33, 34), PackedInt32Array(35, 34, 33, 36), PackedInt32Array(35, 36, 37, 38), PackedInt32Array(38, 37, 39, 40), PackedInt32Array(41, 42, 40, 39, 43, 44), PackedInt32Array(45, 46, 47, 48, 49, 50, 51), PackedInt32Array(52, 53, 54, 55, 56, 57, 58), PackedInt32Array(59, 60, 28, 26, 61), PackedInt32Array(62, 18, 15), PackedInt32Array(62, 15, 42, 63), PackedInt32Array(64, 63, 42), PackedInt32Array(12, 13, 65, 59), PackedInt32Array(59, 65, 60), PackedInt32Array(66, 67, 61, 26, 68), PackedInt32Array(69, 70, 71, 66, 68, 49, 48), PackedInt32Array(72, 51, 50, 73), PackedInt32Array(74, 14, 17, 75, 76), PackedInt32Array(41, 64, 42), PackedInt32Array(77, 44, 43, 78), PackedInt32Array(79, 77, 78), PackedInt32Array(55, 80, 56), PackedInt32Array(72, 73, 81, 82, 83, 84), PackedInt32Array(84, 83, 85, 86), PackedInt32Array(86, 85, 87, 88), PackedInt32Array(89, 79, 78, 90, 76), PackedInt32Array(91, 92, 93, 94, 95, 96, 97, 76), PackedInt32Array(98, 99, 100, 101, 58), PackedInt32Array(75, 89, 76), PackedInt32Array(97, 74, 76), PackedInt32Array(102, 97, 96, 103), PackedInt32Array(102, 103, 104), PackedInt32Array(102, 104, 105, 52), PackedInt32Array(52, 105, 53), PackedInt32Array(58, 57, 106, 107, 108, 98), PackedInt32Array(109, 110, 101, 100, 111, 112), PackedInt32Array(112, 111, 113, 114), PackedInt32Array(114, 113, 115), PackedInt32Array(87, 114, 115, 116), PackedInt32Array(87, 116, 117, 118, 88), PackedInt32Array(88, 119, 120), PackedInt32Array(86, 88, 120), PackedInt32Array(121, 86, 120, 122, 123)])
outlines = Array[PackedVector2Array]([PackedVector2Array(25, -129, -182, -106, -202, -63, -210, -2, -199, 46, -168, 66, -125, 72, -73, 63, -67, 31, -61, 0, -57, -20, -44, -19, -32, -6, -24, 26, -24, 60, -28, 75, -32, 104, -10, 124, 23, 140, 77, 146, 126, 139, 153, 132, 176, 114, 177, 82, 148, 75, 124, 75, 97, 74, 92, 60, 97, 52, 159, 54, 184, 48, 193, -76, 157, -105)])

[sub_resource type="CircleShape2D" id="CircleShape2D_1wd50"]
radius = 5.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lhx8w"]
size = Vector2(39, 27)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_77uq0"]
size = Vector2(4, 27)

[sub_resource type="CircleShape2D" id="CircleShape2D_kph3x"]
radius = 5.0

[node name="Mode_Balap" type="Node2D"]
script = ExtResource("1_lhx8w")
Available_Players = Array[PackedScene]([ExtResource("2_1wd50"), ExtResource("3_rvj8b"), ExtResource("4_pec3l"), ExtResource("5_2kmmn")])

[node name="Track" type="Sprite2D" parent="."]
texture = ExtResource("1_rtnk7")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="Track"]
navigation_polygon = SubResource("NavigationPolygon_832nx")

[node name="StaticBody2D" type="StaticBody2D" parent="Track/NavigationRegion2D"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Track/NavigationRegion2D/StaticBody2D"]
polygon = PackedVector2Array(-165, 11, -166, -25, -161, -43, -136, -71, -113, -79, -49, -82, 32, -83, 40, -77, 108, -76, 144, -62, 145, -37, 143, -31, 142, -10, 138, -4, 83, -1, 77, 11, 63, 23, 62, 32, 52, 40, 50, 50, 49, 80, 52, 86, 51, 109, 83, 110, 97, 107, 109, 104, 119, 106, 116, 109, 109, 107, 103, 108, 101, 110, 99, 108, 96, 109, 95, 112, 90, 111, 83, 112, 39, 111, 26, 104, 18, 89, 21, 62, 25, 59, 21, 43, 27, 34, 24, 10, 16, -27, 10, -29, 8, -40, -7, -57, -14, -53, -21, -55, -21, -59, -47, -59, -54, -56, -82, -57, -100, -55, -117, -32, -121, -22, -121, -16, -131, 0, -132, 8, -135, 24, -154, 24)

[node name="Cone" type="StaticBody2D" parent="Track/NavigationRegion2D"]
position = Vector2(-39, -52)

[node name="Sprite2D" type="Sprite2D" parent="Track/NavigationRegion2D/Cone"]
self_modulate = Color(0, 0, 0, 1)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_77uq0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/NavigationRegion2D/Cone"]
shape = SubResource("CircleShape2D_1wd50")

[node name="Cone2" type="StaticBody2D" parent="Track/NavigationRegion2D"]
position = Vector2(-107, 35)

[node name="Sprite2D" type="Sprite2D" parent="Track/NavigationRegion2D/Cone2"]
self_modulate = Color(0, 0, 0, 1)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_77uq0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/NavigationRegion2D/Cone2"]
shape = SubResource("CircleShape2D_1wd50")

[node name="Cone3" type="StaticBody2D" parent="Track/NavigationRegion2D"]
position = Vector2(153, 21)

[node name="Sprite2D" type="Sprite2D" parent="Track/NavigationRegion2D/Cone3"]
self_modulate = Color(0, 0, 0, 1)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_77uq0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/NavigationRegion2D/Cone3"]
shape = SubResource("CircleShape2D_1wd50")

[node name="Spawn" type="Area2D" parent="Track"]
position = Vector2(10, -104)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/Spawn"]
shape = SubResource("RectangleShape2D_lhx8w")

[node name="CP1" type="Area2D" parent="Track"]
position = Vector2(-12, -19)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/CP1"]
rotation = -2.05251
shape = SubResource("RectangleShape2D_lhx8w")

[node name="CP2" type="Area2D" parent="Track"]
position = Vector2(91, 27)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/CP2"]
rotation = -0.174533
shape = SubResource("RectangleShape2D_lhx8w")

[node name="Finish" type="Area2D" parent="Track"]
position = Vector2(8, -104)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/Finish"]
position = Vector2(1, 0)
shape = SubResource("RectangleShape2D_77uq0")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
collision_mask = 0

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_77uq0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
shape = SubResource("CircleShape2D_kph3x")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="CharacterBody2D"]

[node name="CountdownLabel" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -34.5
offset_right = 20.0
offset_bottom = 34.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_font_sizes/font_size = 50
text = "3"

[node name="Winner" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -254.5
offset_right = 20.0
offset_bottom = -185.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 7
theme_override_font_sizes/font_size = 50

[node name="Button" type="Button" parent="."]
offset_left = -528.0
offset_top = 237.0
offset_right = -410.0
offset_bottom = 268.0
text = "Mulai balapan"

[node name="Camera2D" type="Camera2D" parent="."]

[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
